import{r as y,j as e,F as K,L as F,R as b,u as V,a as Q,b as J,c as X,d as Y,e as ee,f as te,g as ne,h as T,i as ae,A as se}from"./index-qrqSFKh2.js";const le=({onNext:a})=>{const[s,u]=y.useState(""),[o,l]=y.useState(!0),v=x=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(String(x).toLowerCase());y.useEffect(()=>{l(s?v(s):!0)},[s]);const m=()=>{o&&s&&a(s)},d=()=>{console.log("Sign in with Google")};return e.jsxs("div",{className:"container mx-auto px-4 py-4 text-black",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 font-manuale",children:"Register"}),e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"Enter your email address",className:`border p-2 mb-2 w-full ${o?"":"border-red-500"}`,value:s,onChange:x=>u(x.target.value)}),!o&&e.jsx("p",{className:"text-red-500 text-sm mb-2 self-start",children:"Please enter a valid email address"}),e.jsx("button",{onClick:m,className:`w-full font-bold px-4 py-2 rounded transition-colors ${o&&s?"bg-orange-400 text-black hover:bg-orange-400":"bg-orange-100 cursor-not-allowed"}`,disabled:!o||!s,children:"Register"}),e.jsxs("div",{className:"flex items-center my-4 md:my-12",children:[e.jsx("div",{className:"flex-grow border-t border-gray-300"}),e.jsx("span",{className:"flex-shrink mx-4 text-gray-600",children:"OR"}),e.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),e.jsxs("button",{onClick:d,className:"w-full border border-gray-300 text-black font-bold px-4 py-2 rounded flex items-center justify-center hover:bg-gray-100 transition-colors",children:[e.jsx(K,{className:"mr-2 text-xl"})," Sign in with Google"]}),e.jsxs("div",{className:"text-center mt-12",children:["Already have an account?",e.jsx(F,{to:"/signin",className:"text-blue-600 font-semibold ml-1 hover:underline",children:"Sign in"})]}),e.jsx("div",{className:"border-t border-gray-300 my-4 md:mt-24 -mx-8"}),e.jsxs("p",{className:"text-sm text-gray-600 text-center md:px-12",children:["By continuing you agree to our"," ",e.jsx(F,{to:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})," ","and"," ",e.jsx(F,{to:"/terms-of-use",className:"text-blue-600 hover:underline",children:"Terms of Use"})," ","of this platform."]})]})};var _=function(a){return typeof a=="object"&&a!==null},re=function(a){var s=a.value,u=s===void 0?"":s,o=a.numInputs,l=o===void 0?4:o,v=a.onChange,m=a.onPaste,d=a.renderInput,x=a.shouldAutoFocus,p=x===void 0?!1:x,O=a.inputType,C=O===void 0?"text":O,A=a.renderSeparator,j=a.placeholder,N=a.containerStyle,w=a.inputStyle,B=a.skipDefaultStyles,G=B===void 0?!1:B,L=b.useState(0),c=L[0],D=L[1],g=b.useRef([]),k=function(){return u?u.toString().split(""):[]},E=C==="number"||C==="tel";b.useEffect(function(){g.current=g.current.slice(0,l)},[l]),b.useEffect(function(){var t;p&&((t=g.current[0])===null||t===void 0||t.focus())},[p]);var U=function(){if(typeof j=="string"){if(j.length===l)return j;j.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},P=function(t){var n=E?!isNaN(Number(t)):typeof t=="string";return n&&t.trim().length===1},W=function(t){var n=t.target.value;P(n)&&(S(n),h(c+1))},$=function(t){var n=t.nativeEvent,r=t.target.value;if(!P(r)){if(r.length===l){var i=r.split("").some(function(f){return!P(f)});i||(R(r.split("")),h(l-1))}n.data===null&&n.inputType==="deleteContentBackward"&&(t.preventDefault(),S(""),h(c-1)),t.target.value=""}},z=function(t){return function(n){D(n),t.target.select()}},M=function(){D(c-1)},Z=function(t){var n=k();[t.code,t.key].includes("Backspace")?(t.preventDefault(),S(""),h(c-1)):t.code==="Delete"?(t.preventDefault(),S("")):t.code==="ArrowLeft"?(t.preventDefault(),h(c-1)):t.code==="ArrowRight"||t.key===n[c]?(t.preventDefault(),h(c+1)):(t.code==="Spacebar"||t.code==="Space"||t.code==="ArrowUp"||t.code==="ArrowDown")&&t.preventDefault()},h=function(t){var n,r,i=Math.max(Math.min(l-1,t),0);g.current[i]&&((n=g.current[i])===null||n===void 0||n.focus(),(r=g.current[i])===null||r===void 0||r.select(),D(i))},S=function(t){var n=k();n[c]=t[0],R(n)},R=function(t){var n=t.join("");v(n)},q=function(t){var n;t.preventDefault();var r=k(),i=c,f=t.clipboardData.getData("text/plain").slice(0,l-c).split("");if(!(E&&f.some(function(H){return isNaN(Number(H))}))){for(var I=0;I<l;++I)I>=c&&f.length>0&&(r[I]=(n=f.shift())!==null&&n!==void 0?n:"",i++);h(i),R(r)}};return b.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},_(N)&&N),className:typeof N=="string"?N:void 0,onPaste:m},Array.from({length:l},function(t,n){return n}).map(function(t){var n,r,i;return b.createElement(b.Fragment,{key:t},d({value:(n=k()[t])!==null&&n!==void 0?n:"",placeholder:(i=(r=U())===null||r===void 0?void 0:r[t])!==null&&i!==void 0?i:void 0,ref:function(f){return g.current[t]=f},onChange:W,onFocus:function(f){return z(f)(t)},onBlur:M,onKeyDown:Z,onPaste:q,autoComplete:"off","aria-label":"Please enter OTP character ".concat(t+1),style:Object.assign(G?{}:{width:"1em",textAlign:"center"},_(w)?w:{}),className:typeof w=="string"?w:void 0,type:C,inputMode:E?"numeric":"text",onInput:$},t),t<l-1&&(typeof A=="function"?A(t):A))}))};const oe=({email:a,onVerify:s})=>{const u=V(),[o,l]=y.useState(""),v=()=>{o.length===6?s(o):alert("Please enter a valid 6-digit code")},m=()=>{u(-1)},d=()=>{console.log("Resending verification code")},x=p=>{/^\d*$/.test(p)&&l(p)};return e.jsxs("div",{className:"container mx-auto px-4 py-4 text-black",children:[e.jsx("div",{className:"inline-block cursor-pointer p-2 -ml-2 mb-8",onClick:m,children:e.jsx(Q,{className:"text-2xl"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4 font-manuale",children:"Verify account"}),e.jsxs("p",{className:"mb-8",children:["We have sent a verification code to ",a,". Please check and input the verification code."]}),e.jsx("div",{className:"max-w-sm",children:e.jsx(re,{value:o,onChange:x,numInputs:6,renderInput:p=>e.jsx("input",{...p,style:{width:"44px",height:"44px"},className:"text-center border rounded-md text-xl font-bold",type:"tel"}),containerStyle:"flex justify-between mb-8",inputType:"tel"})}),e.jsxs("div",{className:"mb-4",children:["Haven't received code?",e.jsx("button",{onClick:d,className:"text-blue-600 hover:text-blue-800 underline ml-2",children:"Resend code"})]}),e.jsx("button",{onClick:v,className:"bg-orange-400 font-bold px-4 py-2 rounded w-full",children:"Verify email address"})]})},ie=()=>{const a=V(),s=()=>{a("/")};return e.jsxs("div",{className:"container mx-auto px-4 py-8 text-black",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Additional Questions"}),e.jsx("button",{onClick:s,className:"bg-blue-700 text-white px-4 py-2 rounded",children:"Finish"})]})},ce=()=>(J(),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-5xl font-bold mb-4 text-blue-500 md:mt-8",children:"Welcome to nyuuly."}),e.jsx("p",{className:"text-lg pr-12 md:pr-36 font-semibold",children:"It's easyâ€”opening your account takes as little as 3 minutes."}),e.jsxs("div",{className:"flex flex-row bg-white bg-opacity-20 p-4 md:p-8 rounded-xl mt-8 md:mt-12",children:[e.jsxs("div",{className:"w-full w-1/2 pr-4 md:pr-8",children:[e.jsx(X,{className:"text-2xl"}),e.jsx("p",{className:"text-2xl font-semibold my-4",children:"Personalised task list"}),e.jsx("p",{children:"Get started on what is the most important"})]}),e.jsxs("div",{className:"w-full w-1/2 pl-2 md:pl-8 md:border-l md:border-white",children:[e.jsx(Y,{className:"text-2xl"}),e.jsx("p",{className:"text-2xl font-semibold my-4",children:"Handpicked resources"}),e.jsx("p",{children:"Information hub customised based on your move"})]})]})]})),ue=()=>{const[a,s]=y.useState(""),u=V(),{login:o}=ee(),l=m=>{s(m),u("verification")},v=async m=>{try{const d=await ae.post(se.REGISTER,{email:a,verificationCode:m});if(console.log("Registration successful:",d.data),d.data.access_token)o(d.data.access_token),u("/");else throw new Error("No access token received")}catch(d){console.error("Registration failed:",d)}};return e.jsx("main",{children:e.jsx(te,{bgClassName:"pb-12",style:{background:"linear-gradient(180deg, #051C58 0%, #3D4EDD 51%, #FFA555 100%)"},children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-1/2 pr-4 md:pr-8 mb-4 md:mb-0 text-white",children:e.jsx(ce,{})}),e.jsx("div",{className:"w-full md:w-1/2 px-4 md:pl-8",children:e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:e.jsxs(ne,{children:[e.jsx(T,{index:!0,element:e.jsx(le,{onNext:l})}),e.jsx(T,{path:"verification",element:e.jsx(oe,{email:a,onVerify:v})}),e.jsx(T,{path:"questions",element:e.jsx(ie,{})})]})})})]})})})})};export{ue as default};
